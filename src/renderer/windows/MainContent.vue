<template>
  <NLayout class="main-layout" has-sider>
    <!-- ä¾§è¾¹æ  -->
    <Sidebar />

    <!-- ä¸»å†…å®¹åŒº -->
    <NLayout position="absolute" style="left: 240px;">
      <!-- é¡¶éƒ¨æ  -->
      <NLayoutHeader style="height: 56px;" bordered>
        <NSpace justify="space-between" align="center" style="height: 100%; padding: 0 24px;">
          <NText strong style="font-size: 18px;">
            ğŸ“ My Note
          </NText>
          <NSpace align="center">
            <NText>{{ isDark ? 'ğŸŒ™ æš—è‰²' : 'â˜€ï¸ äº®è‰²' }}</NText>
            <NSwitch :value="isDark" @update:value="$emit('toggle-theme')" />
          </NSpace>
        </NSpace>
      </NLayoutHeader>

      <!-- å†…å®¹åŒºï¼šé¡¹ç›®å¤´éƒ¨ + æ—¶é—´çº¿ï¼ˆå¯æ»šåŠ¨ï¼‰ -->
      <NLayout
        position="absolute"
        style="top: 56px; bottom: 168px;"
        :native-scrollbar="false"
        content-style="padding: 0;"
      >
        <ProjectHeader />
        <CardTimeline />
      </NLayout>

      <!-- åº•éƒ¨å›ºå®šè¾“å…¥æ  -->
      <NLayoutFooter position="absolute" style="height: 168px;" bordered>
        <CardInput />
      </NLayoutFooter>
    </NLayout>
  </NLayout>
</template>

<script setup lang="ts">
import {
  NLayout,
  NLayoutHeader,
  NLayoutFooter,
  NSpace,
  NText,
  NSwitch,
} from 'naive-ui'

import Sidebar from '../components/Sidebar.vue'
import ProjectHeader from '../components/ProjectHeader.vue'
import CardTimeline from '../components/CardTimeline.vue'
import CardInput from '../components/CardInput.vue'

defineProps<{
  isDark: boolean
}>()

defineEmits<{
  'toggle-theme': []
}>()
</script>

<style scoped>
.main-layout {
  height: 100vh;
}
</style>
